/**
* @version: 2.1.24
* @author: Dan Grossman http://www.dangrossman.info/
* @copyright: Copyright (c) 2012-2016 Dan Grossman. All rights reserved.
* @license: Licensed under the MIT license. See http://www.opensource.org/licenses/mit-license.php
* @website: https://www.improvely.com/
*/
!function(A,t){if("function"==typeof define&&define.amd)define(["moment","jquery"],function(e,i){return A.daterangepicker=t(e,i)});else if("object"==typeof module&&module.exports){var e="undefined"!=typeof window?window.jQuery:void 0;e||(e=require("jquery"),e.fn||(e.fn={})),module.exports=t(require("moment"),e)}else A.daterangepicker=t(A.moment,A.jQuery)}(this,function(A,t){var e=function(e,i,n){if(this.parentEl="body",this.element=t(e),this.startDate=A().startOf("day"),this.endDate=A().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={direction:"ltr",format:"MM/DD/YYYY",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:A.weekdaysMin(),monthNames:A.monthsShort(),firstDay:A.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof i&&null!==i||(i={}),i=t.extend(this.element.data(),i),"string"==typeof i.template||i.template instanceof t||(i.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'),this.parentEl=t(i.parentEl&&t(i.parentEl).length?i.parentEl:this.parentEl),this.container=t(i.template).appendTo(this.parentEl),"object"==typeof i.locale&&("string"==typeof i.locale.direction&&(this.locale.direction=i.locale.direction),"string"==typeof i.locale.format&&(this.locale.format=i.locale.format),"string"==typeof i.locale.separator&&(this.locale.separator=i.locale.separator),"object"==typeof i.locale.daysOfWeek&&(this.locale.daysOfWeek=i.locale.daysOfWeek.slice()),"object"==typeof i.locale.monthNames&&(this.locale.monthNames=i.locale.monthNames.slice()),"number"==typeof i.locale.firstDay&&(this.locale.firstDay=i.locale.firstDay),"string"==typeof i.locale.applyLabel&&(this.locale.applyLabel=i.locale.applyLabel),"string"==typeof i.locale.cancelLabel&&(this.locale.cancelLabel=i.locale.cancelLabel),"string"==typeof i.locale.weekLabel&&(this.locale.weekLabel=i.locale.weekLabel),"string"==typeof i.locale.customRangeLabel&&(this.locale.customRangeLabel=i.locale.customRangeLabel)),this.container.addClass(this.locale.direction),"string"==typeof i.startDate&&(this.startDate=A(i.startDate,this.locale.format)),"string"==typeof i.endDate&&(this.endDate=A(i.endDate,this.locale.format)),"string"==typeof i.minDate&&(this.minDate=A(i.minDate,this.locale.format)),"string"==typeof i.maxDate&&(this.maxDate=A(i.maxDate,this.locale.format)),"object"==typeof i.startDate&&(this.startDate=A(i.startDate)),"object"==typeof i.endDate&&(this.endDate=A(i.endDate)),"object"==typeof i.minDate&&(this.minDate=A(i.minDate)),"object"==typeof i.maxDate&&(this.maxDate=A(i.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof i.applyClass&&(this.applyClass=i.applyClass),"string"==typeof i.cancelClass&&(this.cancelClass=i.cancelClass),"object"==typeof i.dateLimit&&(this.dateLimit=i.dateLimit),"string"==typeof i.opens&&(this.opens=i.opens),"string"==typeof i.drops&&(this.drops=i.drops),"boolean"==typeof i.showWeekNumbers&&(this.showWeekNumbers=i.showWeekNumbers),"boolean"==typeof i.showISOWeekNumbers&&(this.showISOWeekNumbers=i.showISOWeekNumbers),"string"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses),"object"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses.join(" ")),"boolean"==typeof i.showDropdowns&&(this.showDropdowns=i.showDropdowns),"boolean"==typeof i.showCustomRangeLabel&&(this.showCustomRangeLabel=i.showCustomRangeLabel),"boolean"==typeof i.singleDatePicker&&(this.singleDatePicker=i.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof i.timePicker&&(this.timePicker=i.timePicker),"boolean"==typeof i.timePickerSeconds&&(this.timePickerSeconds=i.timePickerSeconds),"number"==typeof i.timePickerIncrement&&(this.timePickerIncrement=i.timePickerIncrement),"boolean"==typeof i.timePicker24Hour&&(this.timePicker24Hour=i.timePicker24Hour),"boolean"==typeof i.autoApply&&(this.autoApply=i.autoApply),"boolean"==typeof i.autoUpdateInput&&(this.autoUpdateInput=i.autoUpdateInput),"boolean"==typeof i.linkedCalendars&&(this.linkedCalendars=i.linkedCalendars),"function"==typeof i.isInvalidDate&&(this.isInvalidDate=i.isInvalidDate),"function"==typeof i.isCustomDate&&(this.isCustomDate=i.isCustomDate),"boolean"==typeof i.alwaysShowCalendars&&(this.alwaysShowCalendars=i.alwaysShowCalendars),0!=this.locale.firstDay)for(var r=this.locale.firstDay;r>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),r--;var s,o,a;if("undefined"==typeof i.startDate&&"undefined"==typeof i.endDate&&t(this.element).is("input[type=text]")){var l=t(this.element).val(),c=l.split(this.locale.separator);s=o=null,2==c.length?(s=A(c[0],this.locale.format),o=A(c[1],this.locale.format)):this.singleDatePicker&&""!==l&&(s=A(l,this.locale.format),o=A(l,this.locale.format)),null!==s&&null!==o&&(this.setStartDate(s),this.setEndDate(o))}if("object"==typeof i.ranges){for(a in i.ranges){s="string"==typeof i.ranges[a][0]?A(i.ranges[a][0],this.locale.format):A(i.ranges[a][0]),o="string"==typeof i.ranges[a][1]?A(i.ranges[a][1],this.locale.format):A(i.ranges[a][1]),this.minDate&&s.isBefore(this.minDate)&&(s=this.minDate.clone());var h=this.maxDate;if(this.dateLimit&&h&&s.clone().add(this.dateLimit).isAfter(h)&&(h=s.clone().add(this.dateLimit)),h&&o.isAfter(h)&&(o=h.clone()),!(this.minDate&&o.isBefore(this.minDate,this.timepicker?"minute":"day")||h&&s.isAfter(h,this.timepicker?"minute":"day"))){var u=document.createElement("textarea");u.innerHTML=a;var d=u.value;this.ranges[d]=[s,o]}}var f="<ul>";for(a in this.ranges)f+='<li data-range-key="'+a+'">'+a+"</li>";this.showCustomRangeLabel&&(f+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),f+="</ul>",this.container.find(".ranges").prepend(f)}"function"==typeof n&&(this.callback=n),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&"object"!=typeof i.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input > i").hide(),this.timePicker?this.container.find(".ranges ul").hide():this.container.find(".ranges").hide()),("undefined"==typeof i.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),"undefined"!=typeof i.ranges&&"right"==this.opens&&this.container.find(".ranges").prependTo(this.container.find(".calendar.left").parent()),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",t.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",t.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",t.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",t.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",t.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",t.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",t.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",t.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",t.proxy(this.showCalendars,this)).on("focus.daterangepicker",".daterangepicker_input input",t.proxy(this.formInputsFocused,this)).on("blur.daterangepicker",".daterangepicker_input input",t.proxy(this.formInputsBlurred,this)).on("change.daterangepicker",".daterangepicker_input input",t.proxy(this.formInputsChanged,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",t.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",t.proxy(this.clickCancel,this)).on("click.daterangepicker","li",t.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",t.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",t.proxy(this.updateFormInputs,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":t.proxy(this.show,this),"focus.daterangepicker":t.proxy(this.show,this),"keyup.daterangepicker":t.proxy(this.elementChanged,this),"keydown.daterangepicker":t.proxy(this.keydown,this)}):this.element.on("click.daterangepicker",t.proxy(this.toggle,this)),this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};return e.prototype={constructor:e,setStartDate:function(t){"string"==typeof t&&(this.startDate=A(t,this.locale.format)),"object"==typeof t&&(this.startDate=A(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate,this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate,this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(t){"string"==typeof t&&(this.endDate=A(t,this.locale.format)),"object"==typeof t&&(this.endDate=A(t)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.previousRightTime=this.endDate.clone(),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var A,t,e;if(this.endDate){if(A=parseInt(this.container.find(".left .hourselect").val(),10),t=parseInt(this.container.find(".left .minuteselect").val(),10),e=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var i=this.container.find(".left .ampmselect").val();"PM"===i&&12>A&&(A+=12),"AM"===i&&12===A&&(A=0)}}else if(A=parseInt(this.container.find(".right .hourselect").val(),10),t=parseInt(this.container.find(".right .minuteselect").val(),10),e=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var i=this.container.find(".right .ampmselect").val();"PM"===i&&12>A&&(A+=12),"AM"===i&&12===A&&(A=0)}this.leftCalendar.month.hour(A).minute(t).second(e),this.rightCalendar.month.hour(A).minute(t).second(e)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(e){var i="left"==e?this.leftCalendar:this.rightCalendar,n=i.month.month(),r=i.month.year(),s=i.month.hour(),o=i.month.minute(),a=i.month.second(),l=A([r,n]).daysInMonth(),c=A([r,n,1]),h=A([r,n,l]),u=A(c).subtract(1,"month").month(),d=A(c).subtract(1,"month").year(),f=A([d,u]).daysInMonth(),g=c.day(),i=[];i.firstDay=c,i.lastDay=h;for(var p=0;6>p;p++)i[p]=[];var B=f-g+this.locale.firstDay+1;B>f&&(B-=7),g==this.locale.firstDay&&(B=f-6);for(var w,m,v=A([d,u,B,12,o,a]),p=0,w=0,m=0;42>p;p++,w++,v=A(v).add(24,"hour"))p>0&&w%7===0&&(w=0,m++),i[m][w]=v.clone().hour(s).minute(o).second(a),v.hour(12),this.minDate&&i[m][w].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&i[m][w].isBefore(this.minDate)&&"left"==e&&(i[m][w]=this.minDate.clone()),this.maxDate&&i[m][w].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&i[m][w].isAfter(this.maxDate)&&"right"==e&&(i[m][w]=this.maxDate.clone());"left"==e?this.leftCalendar.calendar=i:this.rightCalendar.calendar=i;var E="left"==e?this.minDate:this.startDate,b=this.maxDate,I=("left"==e?this.startDate:this.endDate,"ltr"==this.locale.direction?{left:"chevron-left",right:"chevron-right"}:{left:"chevron-right",right:"chevron-left"}),Q='<table class="table-condensed">';Q+="<thead>",Q+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(Q+="<th></th>"),Q+=E&&!E.isBefore(i.firstDay)||this.linkedCalendars&&"left"!=e?"<th></th>":'<th class="prev available"><i class="fa fa-'+I.left+" glyphicon glyphicon-"+I.left+'"></i></th>';var C=this.locale.monthNames[i[1][1].month()]+i[1][1].format(" YYYY");if(this.showDropdowns){for(var D=i[1][1].month(),y=i[1][1].year(),M=b&&b.year()||y+5,F=E&&E.year()||y-50,x=y==F,T=y==M,P='<select class="monthselect">',S=0;12>S;S++)P+=(!x||S>=E.month())&&(!T||S<=b.month())?"<option value='"+S+"'"+(S===D?" selected='selected'":"")+">"+this.locale.monthNames[S]+"</option>":"<option value='"+S+"'"+(S===D?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[S]+"</option>";P+="</select>";for(var k='<select class="yearselect">',Y=F;M>=Y;Y++)k+='<option value="'+Y+'"'+(Y===y?' selected="selected"':"")+">"+Y+"</option>";k+="</select>",C=P+k}if(Q+='<th colspan="5" class="month">'+C+"</th>",Q+=b&&!b.isAfter(i.lastDay)||this.linkedCalendars&&"right"!=e&&!this.singleDatePicker?"<th></th>":'<th class="next available"><i class="fa fa-'+I.right+" glyphicon glyphicon-"+I.right+'"></i></th>',Q+="</tr>",Q+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(Q+='<th class="week">'+this.locale.weekLabel+"</th>"),t.each(this.locale.daysOfWeek,function(A,t){Q+="<th>"+t+"</th>"}),Q+="</tr>",Q+="</thead>",Q+="<tbody>",null==this.endDate&&this.dateLimit){var U=this.startDate.clone().add(this.dateLimit).endOf("day");b&&!U.isBefore(b)||(b=U)}for(var m=0;6>m;m++){Q+="<tr>",this.showWeekNumbers?Q+='<td class="week">'+i[m][0].week()+"</td>":this.showISOWeekNumbers&&(Q+='<td class="week">'+i[m][0].isoWeek()+"</td>");for(var w=0;7>w;w++){var N=[];i[m][w].isSame(new Date,"day")&&N.push("today"),i[m][w].isoWeekday()>5&&N.push("weekend"),i[m][w].month()!=i[1][1].month()&&N.push("off"),this.minDate&&i[m][w].isBefore(this.minDate,"day")&&N.push("off","disabled"),b&&i[m][w].isAfter(b,"day")&&N.push("off","disabled"),this.isInvalidDate(i[m][w])&&N.push("off","disabled"),i[m][w].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&N.push("active","start-date"),null!=this.endDate&&i[m][w].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&N.push("active","end-date"),null!=this.endDate&&i[m][w]>this.startDate&&i[m][w]<this.endDate&&N.push("in-range");var H=this.isCustomDate(i[m][w]);H!==!1&&("string"==typeof H?N.push(H):Array.prototype.push.apply(N,H));for(var R="",G=!1,p=0;p<N.length;p++)R+=N[p]+" ","disabled"==N[p]&&(G=!0);G||(R+="available"),Q+='<td class="'+R.replace(/^\s+|\s+$/g,"")+'" data-title="r'+m+"c"+w+'">'+i[m][w].date()+"</td>"}Q+="</tr>"}Q+="</tbody>",Q+="</table>",this.container.find(".calendar."+e+" .calendar-table").html(Q)},renderTimePicker:function(A){if("right"!=A||this.endDate){var t,e,i,n=this.maxDate;if(!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(n=this.startDate.clone().add(this.dateLimit)),"left"==A)e=this.startDate.clone(),i=this.minDate;else if("right"==A){e=this.endDate.clone(),i=this.startDate;var r=this.container.find(".calendar.right .calendar-time div");if(!this.endDate&&""!=r.html()&&(e.hour(r.find(".hourselect option:selected").val()||e.hour()),e.minute(r.find(".minuteselect option:selected").val()||e.minute()),e.second(r.find(".secondselect option:selected").val()||e.second()),!this.timePicker24Hour)){var s=r.find(".ampmselect option:selected").val();"PM"===s&&e.hour()<12&&e.hour(e.hour()+12),"AM"===s&&12===e.hour()&&e.hour(0)}e.isBefore(this.startDate)&&(e=this.startDate.clone()),n&&e.isAfter(n)&&(e=n.clone())}t='<select class="hourselect">';for(var o=this.timePicker24Hour?0:1,a=this.timePicker24Hour?23:12,l=o;a>=l;l++){var c=l;this.timePicker24Hour||(c=e.hour()>=12?12==l?12:l+12:12==l?0:l);var h=e.clone().hour(c),u=!1;i&&h.minute(59).isBefore(i)&&(u=!0),n&&h.minute(0).isAfter(n)&&(u=!0),t+=c!=e.hour()||u?u?'<option value="'+l+'" disabled="disabled" class="disabled">'+l+"</option>":'<option value="'+l+'">'+l+"</option>":'<option value="'+l+'" selected="selected">'+l+"</option>"}t+="</select> ",t+=': <select class="minuteselect">';for(var l=0;60>l;l+=this.timePickerIncrement){var d=10>l?"0"+l:l,h=e.clone().minute(l),u=!1;i&&h.second(59).isBefore(i)&&(u=!0),n&&h.second(0).isAfter(n)&&(u=!0),t+=e.minute()!=l||u?u?'<option value="'+l+'" disabled="disabled" class="disabled">'+d+"</option>":'<option value="'+l+'">'+d+"</option>":'<option value="'+l+'" selected="selected">'+d+"</option>"}if(t+="</select> ",this.timePickerSeconds){t+=': <select class="secondselect">';for(var l=0;60>l;l++){var d=10>l?"0"+l:l,h=e.clone().second(l),u=!1;i&&h.isBefore(i)&&(u=!0),n&&h.isAfter(n)&&(u=!0),t+=e.second()!=l||u?u?'<option value="'+l+'" disabled="disabled" class="disabled">'+d+"</option>":'<option value="'+l+'">'+d+"</option>":'<option value="'+l+'" selected="selected">'+d+"</option>"}t+="</select> "}if(!this.timePicker24Hour){t+='<select class="ampmselect">';var f="",g="";i&&e.clone().hour(12).minute(0).second(0).isBefore(i)&&(f=' disabled="disabled" class="disabled"'),n&&e.clone().hour(0).minute(0).second(0).isAfter(n)&&(g=' disabled="disabled" class="disabled"'),t+=e.hour()>=12?'<option value="AM"'+f+'>AM</option><option value="PM" selected="selected"'+g+">PM</option>":'<option value="AM" selected="selected"'+f+'>AM</option><option value="PM"'+g+">PM</option>",t+="</select>"}this.container.find(".calendar."+A+" .calendar-time div").html(t)}},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var A,e={top:0,left:0},i=t(window).width();this.parentEl.is("body")||(e={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},i=this.parentEl[0].clientWidth+this.parentEl.offset().left),A="up"==this.drops?this.element.offset().top-this.container.outerHeight()-e.top:this.element.offset().top+this.element.outerHeight()-e.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:A,right:i-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:A,left:this.element.offset().left-e.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:A,left:this.element.offset().left-e.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>t(window).width()&&this.container.css({left:"auto",right:0}))},show:function(){this.isShowing||(this._outsideClickProxy=t.proxy(function(A){this.outsideClick(A)},this),t(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),t(window).on("resize.daterangepicker",t.proxy(function(A){this.move(A)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),t(document).off(".daterangepicker"),t(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(){this.isShowing?this.hide():this.show()},outsideClick:function(A){var e=t(A.target);"focusin"==A.type||e.closest(this.element).length||e.closest(this.container).length||e.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(A){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")){var t=A.target.getAttribute("data-range-key");if(t==this.locale.customRangeLabel)this.updateView();else{var e=this.ranges[t];this.container.find("input[name=daterangepicker_start]").val(e[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(e[1].format(this.locale.format))}}},clickRange:function(A){var t=A.target.getAttribute("data-range-key");if(this.chosenLabel=t,t==this.locale.customRangeLabel)this.showCalendars();else{var e=this.ranges[t];this.startDate=e[0],this.endDate=e[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(A){var e=t(A.target).parents(".calendar");e.hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(A){var e=t(A.target).parents(".calendar");e.hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(A){if(t(A.target).hasClass("available")){var e=t(A.target).attr("data-title"),i=e.substr(1,1),n=e.substr(3,1),r=t(A.target).parents(".calendar"),s=r.hasClass("left")?this.leftCalendar.calendar[i][n]:this.rightCalendar.calendar[i][n];this.endDate&&!this.container.find("input[name=daterangepicker_start]").is(":focus")?this.container.find("input[name=daterangepicker_start]").val(s.format(this.locale.format)):this.endDate||this.container.find("input[name=daterangepicker_end]").is(":focus")||this.container.find("input[name=daterangepicker_end]").val(s.format(this.locale.format));var o=this.leftCalendar,a=this.rightCalendar,l=this.startDate;this.endDate||this.container.find(".calendar td").each(function(A,e){if(!t(e).hasClass("week")){var i=t(e).attr("data-title"),n=i.substr(1,1),r=i.substr(3,1),c=t(e).parents(".calendar"),h=c.hasClass("left")?o.calendar[n][r]:a.calendar[n][r];h.isAfter(l)&&h.isBefore(s)||h.isSame(s,"day")?t(e).addClass("in-range"):t(e).removeClass("in-range")}})}},clickDate:function(A){if(t(A.target).hasClass("available")){var e=t(A.target).attr("data-title"),i=e.substr(1,1),n=e.substr(3,1),r=t(A.target).parents(".calendar"),s=r.hasClass("left")?this.leftCalendar.calendar[i][n]:this.rightCalendar.calendar[i][n];if(this.endDate||s.isBefore(this.startDate,"day")){if(this.timePicker){var o=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var a=this.container.find(".left .ampmselect").val();"PM"===a&&12>o&&(o+=12),"AM"===a&&12===o&&(o=0)}var l=parseInt(this.container.find(".left .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;s=s.clone().hour(o).minute(l).second(c)}this.endDate=null,this.setStartDate(s.clone())}else if(!this.endDate&&s.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var o=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var a=this.container.find(".right .ampmselect").val();"PM"===a&&12>o&&(o+=12),"AM"===a&&12===o&&(o=0)}var l=parseInt(this.container.find(".right .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;s=s.clone().hour(o).minute(l).second(c)}this.setEndDate(s.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView(),A.stopPropagation()}},calculateChosenLabel:function(){var A=!0,t=0;for(var e in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[e][0])&&this.endDate.isSame(this.ranges[e][1])){A=!1,this.chosenLabel=this.container.find(".ranges li:eq("+t+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[e][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[e][1].format("YYYY-MM-DD")){A=!1,this.chosenLabel=this.container.find(".ranges li:eq("+t+")").addClass("active").html();break}t++}A&&this.showCustomRangeLabel&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())},clickApply:function(){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(A){var e=t(A.target).closest(".calendar").hasClass("left"),i=e?"left":"right",n=this.container.find(".calendar."+i),r=parseInt(n.find(".monthselect").val(),10),s=n.find(".yearselect").val();e||(s<this.startDate.year()||s==this.startDate.year()&&r<this.startDate.month())&&(r=this.startDate.month(),s=this.startDate.year()),this.minDate&&(s<this.minDate.year()||s==this.minDate.year()&&r<this.minDate.month())&&(r=this.minDate.month(),s=this.minDate.year()),this.maxDate&&(s>this.maxDate.year()||s==this.maxDate.year()&&r>this.maxDate.month())&&(r=this.maxDate.month(),s=this.maxDate.year()),e?(this.leftCalendar.month.month(r).year(s),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(r).year(s),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(A){var e=t(A.target).closest(".calendar"),i=e.hasClass("left"),n=parseInt(e.find(".hourselect").val(),10),r=parseInt(e.find(".minuteselect").val(),10),s=this.timePickerSeconds?parseInt(e.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var o=e.find(".ampmselect").val();"PM"===o&&12>n&&(n+=12),"AM"===o&&12===n&&(n=0)}if(i){var a=this.startDate.clone();a.hour(n),a.minute(r),a.second(s),this.setStartDate(a),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==a.format("YYYY-MM-DD")&&this.endDate.isBefore(a)&&this.setEndDate(a.clone())}else if(this.endDate){var l=this.endDate.clone();l.hour(n),l.minute(r),l.second(s),this.setEndDate(l)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},formInputsChanged:function(e){var i=t(e.target).closest(".calendar").hasClass("right"),n=A(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),r=A(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);n.isValid()&&r.isValid()&&(i&&r.isBefore(n)&&(n=r.clone()),
this.setStartDate(n),this.setEndDate(r),i?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateView()},formInputsFocused:function(A){this.container.find('input[name="daterangepicker_start"], input[name="daterangepicker_end"]').removeClass("active"),t(A.target).addClass("active");var e=t(A.target).closest(".calendar").hasClass("right");e&&(this.endDate=null,this.setStartDate(this.startDate.clone()),this.updateView())},formInputsBlurred:function(){if(!this.endDate){var t=this.container.find('input[name="daterangepicker_end"]').val(),e=A(t,this.locale.format);e.isValid()&&(this.setEndDate(e),this.updateView())}},elementChanged:function(){if(this.element.is("input")&&this.element.val().length&&!(this.element.val().length<this.locale.format.length)){var t=this.element.val().split(this.locale.separator),e=null,i=null;2===t.length&&(e=A(t[0],this.locale.format),i=A(t[1],this.locale.format)),(this.singleDatePicker||null===e||null===i)&&(e=A(this.element.val(),this.locale.format),i=e),e.isValid()&&i.isValid()&&(this.setStartDate(e),this.setEndDate(i),this.updateView())}},keydown:function(A){9!==A.keyCode&&13!==A.keyCode||this.hide()},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},t.fn.daterangepicker=function(A,i){return this.each(function(){var n=t(this);n.data("daterangepicker")&&n.data("daterangepicker").remove(),n.data("daterangepicker",new e(n,A,i))}),this},e});