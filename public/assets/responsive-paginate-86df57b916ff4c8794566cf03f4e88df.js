!function(t){jQuery.fn.rPage=function(){function e(e){this.label=function(){var e=this.els.filter(".active").index(),A=this;this.els.each(function(){0==A.isNextOrPrevLink(t(this))?t(this).addClass("page-away-"+Math.abs(e-t(this).index()).toString()):t(this).index()>e?t(this).addClass("right-etc"):t(this).addClass("left-etc")})},this.makeResponsive=function(){this.reset();for(var t=this.calculateWidth();t>this.els.parent().parent().outerWidth()-10;){var e=this.removeOne();if(0==e)break;t=this.calculateWidth()}},this.isNextOrPrevLink=function(t){return t.hasClass("pagination-prev")||t.hasClass("pagination-next")||"\xbb"==t.text()||"\xab"==t.text()},this.isRemovable=function(t){if(this.isNextOrPrevLink(t))return!1;var A=this.els.filter(t).index();return 1==A||this.isNextOrPrevLink(e.find("li").eq(A+1))?!1:"..."!=t.text()},this.removeOne=function(){for(var t=this.els.filter(".active").index(),A=e.find("li").length-1,i=A-1;i>0;i--){var n=this.els.filter(".page-away-"+i.toString()),s=n.filter(function(){return"none"!=this.style.display});if(s.length>0)for(var r=0;r<s.length;r++){var o=s.eq(r);if(this.isRemovable(o))return o.css("display","none"),this.needsEtcSign(t,A-1)&&this.els.eq(A-2).before("<li class='disabled removable'><span>...</span></li>"),this.needsEtcSign(1,t)&&this.els.eq(1).after("<li class='disabled removable'><span>...</span></li>"),!0}}return!1},this.needsEtcSign=function(t,A){if(1>=A-t)return!1;for(var i=!1,n=!1,s=t+1;A>s;s++){var r=e.find("li").eq(s);"none"==r.css("display")&&(n=!0),"..."==r.text()&&(i=!0)}return 1==n&&0==i},this.reset=function(){for(var t=0;t<this.els.length;t++)this.els.eq(t).css("display","inline");e.find("li").filter(".removable").remove()},this.calculateWidth=function(){for(var t=0,A=0;A<e.find("li").length;A++)t+=e.find("li").eq(A).children("a").eq(0).outerWidth(),t+=e.find("li").eq(A).children("span").eq(0).outerWidth();return t},this.els=e.find("li"),this.label(),this.makeResponsive();var A;t(window).resize(t.proxy(function(){clearTimeout(A),A=setTimeout(t.proxy(function(){this.makeResponsive()},this),100)},this))}for(var A=t(this),i=0,n=A.length;n>i;i++)new e(t(A[i]))}}(jQuery);