!function(t){jQuery.fn.rPage=function(){function A(A){this.label=function(){var A=this.els.filter(".active").index(),e=this;this.els.each(function(){0==e.isNextOrPrevLink(t(this))?t(this).addClass("page-away-"+Math.abs(A-t(this).index()).toString()):t(this).index()>A?t(this).addClass("right-etc"):t(this).addClass("left-etc")})},this.makeResponsive=function(){this.reset();for(var t=this.calculateWidth();t>this.els.parent().parent().outerWidth()-10;){var A=this.removeOne();if(0==A)break;t=this.calculateWidth()}},this.isNextOrPrevLink=function(t){return t.hasClass("pagination-prev")||t.hasClass("pagination-next")||"\xbb"==t.text()||"\xab"==t.text()},this.isRemovable=function(t){if(this.isNextOrPrevLink(t))return!1;var e=this.els.filter(t).index();return 1==e||this.isNextOrPrevLink(A.find("li").eq(e+1))?!1:"..."!=t.text()},this.removeOne=function(){for(var t=this.els.filter(".active").index(),e=A.find("li").length-1,i=e-1;i>0;i--){var n=this.els.filter(".page-away-"+i.toString()),r=n.filter(function(){return"none"!=this.style.display});if(r.length>0)for(var s=0;s<r.length;s++){var o=r.eq(s);if(this.isRemovable(o))return o.css("display","none"),this.needsEtcSign(t,e-1)&&this.els.eq(e-2).before("<li class='disabled removable'><span>...</span></li>"),this.needsEtcSign(1,t)&&this.els.eq(1).after("<li class='disabled removable'><span>...</span></li>"),!0}}return!1},this.needsEtcSign=function(t,e){if(1>=e-t)return!1;for(var i=!1,n=!1,r=t+1;e>r;r++){var s=A.find("li").eq(r);"none"==s.css("display")&&(n=!0),"..."==s.text()&&(i=!0)}return 1==n&&0==i},this.reset=function(){for(var t=0;t<this.els.length;t++)this.els.eq(t).css("display","inline");A.find("li").filter(".removable").remove()},this.calculateWidth=function(){for(var t=0,e=0;e<A.find("li").length;e++)t+=A.find("li").eq(e).children("a").eq(0).outerWidth(),t+=A.find("li").eq(e).children("span").eq(0).outerWidth();return t},this.els=A.find("li"),this.label(),this.makeResponsive();var e;t(window).resize(t.proxy(function(){clearTimeout(e),e=setTimeout(t.proxy(function(){this.makeResponsive()},this),100)},this))}for(var e=t(this),i=0,n=e.length;n>i;i++)new A(t(e[i]))}}(jQuery);