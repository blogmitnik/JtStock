/*!
 * Ladda
 * http://lab.hakim.se/ladda
 * MIT licensed
 *
 * Copyright (C) 2016 Hakim El Hattab, http://hakim.se
 */
!function(A,t){"object"==typeof exports?module.exports=t(require("spin.js")):"function"==typeof define&&define.amd?define(["spin"],t):A.Ladda=t(A.Spinner)}(this,function(A){"use strict";function t(A){if("undefined"==typeof A)return void console.warn("Ladda button target must be defined.");if(/ladda-button/i.test(A.className)||(A.className+=" ladda-button"),A.hasAttribute("data-style")||A.setAttribute("data-style","expand-right"),!A.querySelector(".ladda-label")){var t=document.createElement("span");t.className="ladda-label",a(A,t)}var e,i=A.querySelector(".ladda-spinner");i||(i=document.createElement("span"),i.className="ladda-spinner"),A.appendChild(i);var n,r={start:function(){return e||(e=s(A)),A.setAttribute("disabled",""),A.setAttribute("data-loading",""),clearTimeout(n),e.spin(i),this.setProgress(0),this},startAfter:function(A){return clearTimeout(n),n=setTimeout(function(){r.start()},A),this},stop:function(){return A.removeAttribute("disabled"),A.removeAttribute("data-loading"),clearTimeout(n),e&&(n=setTimeout(function(){e.stop()},1e3)),this},toggle:function(){return this.isLoading()?this.stop():this.start(),this},setProgress:function(t){t=Math.max(Math.min(t,1),0);var e=A.querySelector(".ladda-progress");0===t&&e&&e.parentNode?e.parentNode.removeChild(e):(e||(e=document.createElement("div"),e.className="ladda-progress",A.appendChild(e)),e.style.width=(t||0)*A.offsetWidth+"px")},enable:function(){return this.stop(),this},disable:function(){return this.stop(),A.setAttribute("disabled",""),this},isLoading:function(){return A.hasAttribute("data-loading")},remove:function(){clearTimeout(n),A.removeAttribute("disabled",""),A.removeAttribute("data-loading",""),e&&(e.stop(),e=null);for(var t=0,i=l.length;i>t;t++)if(r===l[t]){l.splice(t,1);break}}};return l.push(r),r}function e(A,t){for(;A.parentNode&&A.tagName!==t;)A=A.parentNode;return t===A.tagName?A:void 0}function i(A){for(var t=["input","textarea","select"],e=[],i=0;i<t.length;i++)for(var n=A.getElementsByTagName(t[i]),r=0;r<n.length;r++)n[r].hasAttribute("required")&&e.push(n[r]);return e}function n(A,n){n=n||{};var r=[];"string"==typeof A?r=o(document.querySelectorAll(A)):"object"==typeof A&&"string"==typeof A.nodeName&&(r=[A]);for(var s=0,a=r.length;a>s;s++)!function(){var A=r[s];if("function"==typeof A.addEventListener){var o=t(A),a=-1;A.addEventListener("click",function(){var t=!0,r=e(A,"FORM");if("undefined"!=typeof r)if("function"==typeof r.checkValidity)t=r.checkValidity();else for(var s=i(r),l=0;l<s.length;l++)""===s[l].value.replace(/^\s+|\s+$/g,"")&&(t=!1),"checkbox"!==s[l].type&&"radio"!==s[l].type||s[l].checked||(t=!1),"email"===s[l].type&&(t=/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(s[l].value));t&&(o.startAfter(1),"number"==typeof n.timeout&&(clearTimeout(a),a=setTimeout(o.stop,n.timeout)),"function"==typeof n.callback&&n.callback.apply(null,[o]))},!1)}}()}function r(){for(var A=0,t=l.length;t>A;A++)l[A].stop()}function s(t){var e,i,n=t.offsetHeight;0===n&&(n=parseFloat(window.getComputedStyle(t).height)),n>32&&(n*=.8),t.hasAttribute("data-spinner-size")&&(n=parseInt(t.getAttribute("data-spinner-size"),10)),t.hasAttribute("data-spinner-color")&&(e=t.getAttribute("data-spinner-color")),t.hasAttribute("data-spinner-lines")&&(i=parseInt(t.getAttribute("data-spinner-lines"),10));var r=.2*n,s=.6*r,o=7>r?2:3;return new A({color:e||"#fff",lines:i||12,radius:r,length:s,width:o,zIndex:"auto",top:"auto",left:"auto",className:""})}function o(A){for(var t=[],e=0;e<A.length;e++)t.push(A[e]);return t}function a(A,t){var e=document.createRange();e.selectNodeContents(A),e.surroundContents(t),A.appendChild(t)}var l=[];return{bind:n,create:t,stopAll:r}});